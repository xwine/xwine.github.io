(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{230:function(s,i,t){"use strict";t.r(i);var e=t(0),o=Object(e.a)({},(function(){var s=this,i=s.$createElement,t=s._self._c||i;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"sso"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sso","aria-hidden":"true"}},[s._v("#")]),s._v(" sso")]),s._v(" "),t("img",{attrs:{src:s.$withBase("/program/SSO.png")}}),s._v(" "),t("h2",{attrs:{id:"单点登录核心点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#单点登录核心点","aria-hidden":"true"}},[s._v("#")]),s._v(" 单点登录核心点")]),s._v(" "),t("blockquote",[t("p",[s._v("利用302进行跨域名间的通信")])]),s._v(" "),t("h2",{attrs:{id:"单点登录过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#单点登录过程","aria-hidden":"true"}},[s._v("#")]),s._v(" 单点登录过程")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("用户访问 a.com")])]),s._v(" "),t("li",[t("p",[s._v("A服务器判断session无效")])]),s._v(" "),t("li",[t("p",[s._v("利用302重定向 带上sso cookie去 获取ticket")])]),s._v(" "),t("li",[t("p",[s._v("ticket不存在，跳转到登录页面进行登录并生成ticket，并利用302重定向回传给A服务器")])]),s._v(" "),t("li",[t("p",[s._v("A服务通过ticket从sso服务器读取会话数据，保存会话信息，并写入cookie到 a.com")])]),s._v(" "),t("li",[t("p",[s._v("用户访问 a.com")])]),s._v(" "),t("li",[t("p",[s._v("A服务器判断session有效")])]),s._v(" "),t("li",[t("p",[s._v("用户访问 b.com")])]),s._v(" "),t("li",[t("p",[s._v("B服务器判断session无效")])]),s._v(" "),t("li",[t("p",[s._v("利用302重定向 带上sso cookie去 获取ticket")])]),s._v(" "),t("li",[t("p",[s._v("ticket存在，直接回传给B服务器  (此处少了登录环节)")])]),s._v(" "),t("li",[t("p",[s._v("B服务器通过ticket从sso服务器读取会话数据，保存会话信息，并写入cookie到 b.com")])]),s._v(" "),t("li",[t("p",[s._v("用户访问 b.com")])]),s._v(" "),t("li",[t("p",[s._v("B服务器判断session有效")])])]),s._v(" "),t("h2",{attrs:{id:"session-和-cookie-的联系"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#session-和-cookie-的联系","aria-hidden":"true"}},[s._v("#")]),s._v(" session 和 cookie 的联系")]),s._v(" "),t("ul",[t("li",[s._v("cookie中保存有sessionID")]),s._v(" "),t("li",[s._v("服务器端通过sessionID 取 session，修改sessionID会导致服务器session找不到")])])])}),[],!1,null,null,null);i.default=o.exports}}]);