(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{219:function(s,a,t){"use strict";t.r(a);var e=t(0),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"elasticsearch-配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch-配置","aria-hidden":"true"}},[s._v("#")]),s._v(" ElasticSearch 配置")]),s._v(" "),t("h2",{attrs:{id:"单实例安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#单实例安装","aria-hidden":"true"}},[s._v("#")]),s._v(" 单实例安装")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("下载 ：https://www.elastic.co/downloads/elasticsearch")])]),s._v(" "),t("li",[t("p",[s._v("解压命令："),t("code",[s._v("tar -vxf elasticsearch-6.2.2.tar.gz")])])]),s._v(" "),t("li",[t("p",[s._v("启动命令： "),t("code",[s._v("./bin/elasticsearch")])])]),s._v(" "),t("li",[t("p",[s._v("验证启动 ：访问：http://localhost:9200/")])])]),s._v(" "),t("div",{staticClass:"language-JSON extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"EbJYm-O"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"cluster_name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"elasticsearch"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"cluster_uuid"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ViVy1WUpQlmM68z8vBGNUQ"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"number"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6.2.4"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build_hash"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ccec39f"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build_date"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2018-04-12T20:37:28.497551Z"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build_snapshot"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lucene_version"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"7.2.1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"minimum_wire_compatibility_version"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5.6.0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"minimum_index_compatibility_version"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5.0.0"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"tagline"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"You Know, for Search"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("h2",{attrs:{id:"可视化插件安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#可视化插件安装","aria-hidden":"true"}},[s._v("#")]),s._v(" 可视化插件安装")]),s._v(" "),t("h3",{attrs:{id:"安装-elasticsearch-head"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-elasticsearch-head","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装 elasticsearch-head")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("git clone git://github.com/mobz/elasticsearch-head.git")])]),s._v(" "),t("li",[t("code",[s._v("cd elasticsearch-head")])]),s._v(" "),t("li",[t("code",[s._v("npm install")])]),s._v(" "),t("li",[t("code",[s._v("npm run start")])]),s._v(" "),t("li",[s._v("访问 http://localhost:9100/")])]),s._v(" "),t("h3",{attrs:{id:"设置可跨域"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置可跨域","aria-hidden":"true"}},[s._v("#")]),s._v(" \b设置可跨域")]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("vim ./config/elasticsearch.yml")])])]),s._v(" "),t("li",[t("p",[s._v("添加：")]),s._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("http.cors.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true  ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("http.cors.allow-origin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*"')]),s._v(" \n")])])])]),s._v(" "),t("li",[t("p",[s._v("启动 elasticsearch")])]),s._v(" "),t("li",[t("p",[s._v("启动 elasticsearch-head")])])]),s._v(" "),t("img",{attrs:{src:s.$withBase("/config/elasticSearch/es-head-run.png")}}),s._v(" "),t("h2",{attrs:{id:"分布式安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分布式安装","aria-hidden":"true"}},[s._v("#")]),s._v(" 分布式安装")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("拷贝安装文件，分别命名为\b"),t("code",[s._v("master")]),s._v("、"),t("code",[s._v("slave1")]),s._v("和"),t("code",[s._v("slave2")])])]),s._v(" "),t("li",[t("p",[s._v("执行："),t("code",[s._v("vim master/config/elasticsearch.yml")])])]),s._v(" "),t("li",[t("p",[s._v("配置master")]),s._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("cluster.name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" xwine\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node.name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" master\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node.master")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("network.host")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 127.0.0.1\n")])])])]),s._v(" "),t("li",[t("p",[s._v("配置slave1")]),s._v(" "),t("p",[s._v("执行："),t("code",[s._v("vim slave1/config/elasticsearch.yml")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('cluster.name: xwine\nnode.name: slave1\n\nnetwork.host: 127.0.0.1\nhttp.port: 9201\n\ndiscovery.zen.ping.unicast.hosts: ["127.0.0.1"]\n')])])])]),s._v(" "),t("li",[t("p",[s._v("配置slave2")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('cluster.name: xwine\nnode.name: slave2\n\nnetwork.host: 127.0.0.1\nhttp.port: 9202\n\ndiscovery.zen.ping.unicast.hosts: ["127.0.0.1"]\n')])])])]),s._v(" "),t("li",[t("p",[s._v("启动es集群")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("./master/bin/elasticsearch -d\n")])])]),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("./slave1/bin/elasticsearch -d\n")])])]),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("./slave2/bin/elasticsearch -d\n")])])])])]),s._v(" "),t("h2",{attrs:{id:"es-对比-mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#es-对比-mysql","aria-hidden":"true"}},[s._v("#")]),s._v(" es 对比 mysql")]),s._v(" "),t("p",[s._v("es 天生支持分片 mysql不行\n数据存储结构\n查询方式的区别")])])}),[],!1,null,null,null);a.default=r.exports}}]);